import{n as o,h,o as A,E as v,t as S,H as _,v as R,w as d,x as g,y as T,z as p,A as N,k as w,q as x,S as B}from"./B8kDqakC.js";import{B as E}from"./BR0Hl-R3.js";function O(a,r,n=!1){h&&A();var f=new E(a),i=n?v:0;function s(t,c){if(h){const e=S(a);var u;if(e===_?u=0:e===R?u=!1:u=parseInt(e.substring(1)),t!==u){var l=d();g(l),f.anchor=l,T(!1),f.ensure(t,c),T(!0);return}}f.ensure(t,c)}o(()=>{var t=!1;r((c,u=0)=>{t=!0,s(u,c)}),t||s(!1,null)},i)}function Y(a,r,n){h&&A();var f=new E(a);o(()=>{var i=r()??null;f.ensure(i,i&&(s=>n(s,i)))},v)}function b(a,r){return a===r||a?.[B]===r}function q(a={},r,n,f){return p(()=>{var i,s;return N(()=>{i=s,s=[],w(()=>{a!==n(...s)&&(r(a,...s),i&&b(n(...i),a)&&r(null,...i))})}),()=>{x(()=>{s&&b(n(...s),a)&&r(null,...s)})}}),a}export{q as b,Y as c,O as i};
